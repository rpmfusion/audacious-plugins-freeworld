diff -up audacious-plugins-2.2/src/madplug/plugin.c~ audacious-plugins-2.2/src/madplug/plugin.c
--- audacious-plugins-2.2/src/madplug/plugin.c~	2009-11-22 23:49:53.000000000 +0100
+++ audacious-plugins-2.2/src/madplug/plugin.c	2010-01-25 16:09:29.000000000 +0100
@@ -440,6 +440,10 @@ audmad_is_our_fd(const gchar *filename, 
                     }
                 }
             }
+
+            if (state == STATE_RESYNC_DO) /* reached end of data */
+                state = STATE_FATAL;
+
             break;
         }
     } while (state != STATE_FATAL && tries < max_resync_tries);
